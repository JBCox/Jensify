<div class="jensify-container-sm">
  <mat-card class="jensify-card">
    <mat-card-header>
      <mat-card-title>Your Receipts</mat-card-title>
      <mat-card-subtitle>Upload receipts can be turned into expenses whenever you're ready.</mat-card-subtitle>
    </mat-card-header>
    <mat-card-content>
      <ng-container *ngIf="receipts$ | async as receipts; else loading">
        <div *ngIf="receipts.length; else empty">
          <div class="jensify-receipt-row" *ngFor="let receipt of receipts; trackBy: trackByReceiptId">
            <div class="jensify-receipt-info">
              <mat-icon>description</mat-icon>
              <div>
                <p class="jensify-receipt-name">{{ receipt.file_name }}</p>
                <p class="jensify-receipt-meta">{{ receipt.file_type }} · {{ (receipt.file_size / 1024) | number:'1.0-0' }} KB</p>
                <div class="jensify-status-chip" [ngClass]="getStatusClass(receipt)">
                  <mat-icon>
                    {{ receipt.ocr_status === 'completed' ? 'task_alt' :
                       receipt.ocr_status === 'failed' ? 'error' : 'autorenew' }}
                  </mat-icon>
                  <span>{{ getStatusLabel(receipt) }}</span>
                </div>
              </div>
            </div>
            <div class="jensify-receipt-actions">
              <button mat-button color="primary" (click)="viewReceipt(receipt)" class="jensify-button">View</button>
              <button mat-raised-button color="primary" (click)="createExpense(receipt)" class="jensify-button">Create Expense</button>
            </div>
          </div>
        </div>
      </ng-container>
      <ng-template #loading>
        <div class="jensify-loading">
          <mat-progress-spinner diameter="24" mode="indeterminate"></mat-progress-spinner>
          <span>Loading receipts…</span>
        </div>
      </ng-template>
      <ng-template #empty>
        <div class="jensify-empty-state">
          <mat-icon>inbox</mat-icon>
          <p>No receipts yet. Upload one to get started.</p>
          <button mat-stroked-button color="primary" routerLink="/expenses/upload" class="jensify-button">Upload Receipt</button>
        </div>
      </ng-template>
    </mat-card-content>
  </mat-card>
</div>
