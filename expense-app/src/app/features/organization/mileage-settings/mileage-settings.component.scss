.jensify-container {
  max-width: 800px;
  margin: 0 auto;
  padding: var(--jensify-spacing-md);
}

.jensify-page-header {
  margin-bottom: var(--jensify-spacing-lg);
}

.jensify-page-title {
  margin: 0 0 var(--jensify-spacing-xs) 0;
  font-size: 1.75rem;
  font-weight: 600;
  color: var(--jensify-text-primary);
}

.jensify-page-subtitle {
  margin: 0;
  color: var(--jensify-text-muted);
  font-size: 0.875rem;
}

.jensify-card {
  margin-bottom: var(--jensify-spacing-md);
  border-radius: var(--jensify-radius-md);
}

.jensify-card-header {
  display: flex;
  align-items: center;
  padding: var(--jensify-spacing-md);
  border-bottom: 1px solid var(--jensify-border);
}

.jensify-card-title {
  display: flex;
  align-items: center;
  gap: var(--jensify-spacing-sm);
  margin: 0;
  font-size: 1.125rem;
  font-weight: 500;
  color: var(--jensify-text-primary);

  mat-icon {
    color: var(--jensify-primary);
  }
}

mat-card-content {
  padding: var(--jensify-spacing-md) !important;
}

.info-card {
  background: var(--jensify-surface-alt);
  border-left: 4px solid var(--jensify-primary);
}

.irs-rate-display {
  display: flex;
  align-items: baseline;
  gap: var(--jensify-spacing-sm);
  margin-bottom: var(--jensify-spacing-sm);
}

.rate-value {
  font-size: 2rem;
  font-weight: 600;
  color: var(--jensify-primary);
}

.rate-label {
  font-size: 0.875rem;
  color: var(--jensify-text-muted);
}

.setting-row {
  margin-bottom: var(--jensify-spacing-lg);

  &:last-child {
    margin-bottom: 0;
  }
}

.setting-description {
  margin: var(--jensify-spacing-xs) 0 0 0;
  color: var(--jensify-text-muted);
  font-size: 0.813rem;
}

.custom-rate-field {
  width: 200px;
}

mat-form-field {
  width: 100%;
  max-width: 300px;
}

.jensify-form-actions {
  display: flex;
  justify-content: flex-end;
  margin-top: var(--jensify-spacing-lg);
}

.jensify-button {
  display: flex;
  align-items: center;
  gap: var(--jensify-spacing-xs);

  mat-spinner {
    margin-right: var(--jensify-spacing-xs);
  }
}

.jensify-loading-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: var(--jensify-spacing-xl);
  gap: var(--jensify-spacing-md);

  p {
    margin: 0;
    color: var(--jensify-text-muted);
  }
}

.jensify-error-card {
  display: flex;
  align-items: center;
  gap: var(--jensify-spacing-md);
  padding: var(--jensify-spacing-md);
  background: var(--jensify-error-bg);
  border-left: 4px solid var(--jensify-error);

  mat-icon {
    color: var(--jensify-error);
  }

  p {
    margin: 0;
    color: var(--jensify-error);
  }
}

// Dark mode adjustments
:host-context(.dark-theme),
:host-context(.dark) {
  .info-card {
    background: color-mix(in srgb, var(--jensify-primary) 8%, transparent);
  }

  // Fix mat-form-field fill appearance in dark mode
  mat-form-field {
    &.mat-mdc-form-field {
      --mdc-filled-text-field-container-color: rgba(255, 255, 255, 0.05);
      --mdc-filled-text-field-disabled-container-color: rgba(255, 255, 255, 0.02);
    }

    .mdc-text-field--filled:not(.mdc-text-field--disabled) {
      background-color: rgba(255, 255, 255, 0.05);
    }

    .mat-mdc-form-field-focus-overlay {
      background-color: rgba(255, 255, 255, 0.05);
    }
  }

  // Fix mat-select dropdown
  .mat-mdc-select-value,
  .mat-mdc-select-arrow {
    color: var(--jensify-text-primary);
  }

  // Fix input text color
  input.mat-mdc-input-element {
    color: var(--jensify-text-primary);
  }

  // Fix mat-card backgrounds
  mat-card.jensify-card {
    background: var(--jensify-surface);
    border: 1px solid var(--jensify-border);
  }

  .jensify-card-header {
    border-bottom-color: var(--jensify-border);
  }

  // Fix slide toggle label
  .mat-mdc-slide-toggle .mdc-form-field label {
    color: var(--jensify-text-primary);
  }
}


// GPS Tracking Mode Styles
.mode-intro {
  margin-bottom: var(--jensify-spacing-md);
}

.tracking-mode-group {
  display: flex;
  flex-direction: column;
  gap: var(--jensify-spacing-sm);
  margin-bottom: var(--jensify-spacing-md);
}

.tracking-mode-option {
  display: block;
  padding: var(--jensify-spacing-md);
  border: 1px solid var(--jensify-border);
  border-radius: var(--jensify-radius-md);
  transition: all 0.2s ease;
  cursor: pointer;

  &:hover {
    border-color: var(--jensify-primary);
    background: var(--jensify-surface-alt);
  }

  &.mat-mdc-radio-checked {
    border-color: var(--jensify-primary);
    background: color-mix(in srgb, var(--jensify-primary) 8%, transparent);
  }

  // Override Material radio button styles
  ::ng-deep .mdc-radio {
    display: none;
  }

  ::ng-deep .mdc-form-field {
    width: 100%;
  }

  ::ng-deep .mdc-label {
    width: 100%;
    padding: 0;
  }
}

.mode-content {
  width: 100%;
}

.mode-header {
  display: flex;
  align-items: center;
  gap: var(--jensify-spacing-sm);
  margin-bottom: var(--jensify-spacing-xs);

  mat-icon {
    color: var(--jensify-primary);
    font-size: 1.25rem;
    width: 1.25rem;
    height: 1.25rem;
  }
}

.mode-title {
  font-weight: 500;
  font-size: 1rem;
  color: var(--jensify-text-primary);
}

.recommended-badge {
  font-size: 0.688rem;
  font-weight: 600;
  padding: 0.125rem 0.5rem;
  border-radius: 9999px;
  background: var(--jensify-primary);
  color: white;
  text-transform: uppercase;
  letter-spacing: 0.025em;
}

.mode-description {
  font-size: 0.813rem;
  color: var(--jensify-text-muted);
  margin: 0;
  line-height: 1.5;
}

.mode-badge {
  display: inline-block;
  margin-left: var(--jensify-spacing-xs);
  font-size: 0.688rem;
  font-weight: 500;
  padding: 0.125rem 0.375rem;
  border-radius: 4px;

  &.low {
    background: color-mix(in srgb, var(--jensify-warning) 20%, transparent);
    color: var(--jensify-warning-dark, #b45309);
  }

  &.medium {
    background: color-mix(in srgb, var(--jensify-info, #3b82f6) 20%, transparent);
    color: var(--jensify-info-dark, #1d4ed8);
  }

  &.high {
    background: color-mix(in srgb, var(--jensify-success) 20%, transparent);
    color: var(--jensify-success-dark, #15803d);
  }
}

.setting-note {
  display: flex;
  align-items: flex-start;
  gap: var(--jensify-spacing-sm);
  padding: var(--jensify-spacing-sm) var(--jensify-spacing-md);
  background: var(--jensify-surface-alt);
  border-radius: var(--jensify-radius-sm);
  border-left: 3px solid var(--jensify-info, #3b82f6);

  mat-icon {
    color: var(--jensify-info, #3b82f6);
    font-size: 1.125rem;
    width: 1.125rem;
    height: 1.125rem;
    flex-shrink: 0;
    margin-top: 2px;
  }

  p {
    margin: 0;
    font-size: 0.813rem;
    color: var(--jensify-text-muted);
    line-height: 1.5;
  }
}

// Responsive adjustments
@media (max-width: 600px) {
  .tracking-mode-option {
    padding: var(--jensify-spacing-sm);
  }

  .mode-header {
    flex-wrap: wrap;
  }

  .recommended-badge {
    margin-top: var(--jensify-spacing-xs);
  }
}
